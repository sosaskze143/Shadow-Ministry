<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <link rel="stylesheet" href="/static/css/style.css">
    <title>بث الإشعارات السيادية</title>
</head>
<body>
    <div class="glass-card">
        <h2>إرسال تعميم رسمي</h2>
        <form action="/admin/send_broadcast" method="POST">
            <div class="form-group">
                <label>نوع الاستهداف:</label>
                <select name="type" id="targetType" onchange="toggleInputs()">
                    <option value="all">الكل</option>
                    <option value="person">شخص محدد</option>
                    <option value="region">منطقة محددة</option>
                    <option value="job">فئة مهنة</option>
                </select>
            </div>

            <div id="targetValContainer" class="form-group" style="display:none;">
                <input type="text" name="target_val" id="targetVal" placeholder="أدخل القيمة المختارة...">
            </div>

            <div class="form-group">
                <label>نص الإشعار:</label>
                <textarea name="message" rows="5" style="width:100%; background:rgba(0,0,0,0.3); color:white;"></textarea>
            </div>

            <div class="grid-3">
                <label><input type="checkbox" name="platform" value="telegram"> تيليجرام</label>
                <label><input type="checkbox" name="platform" value="email"> بريد إلكتروني</label>
                <label><input type="checkbox" name="platform" value="pwa"> إشعار جوال</label>
            </div>

            <button type="submit" class="btn-gold mt-30" style="width:100%">تأكيد الإرسال النهائي</button>
        </form>
    </div>

    <script>
        function toggleInputs() {
            const type = document.getElementById('targetType').value;
            const container = document.getElementById('targetValContainer');
            container.style.display = (type === 'all') ? 'none' : 'block';
        }
    </script>
</body>
</html>
